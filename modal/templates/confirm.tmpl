{{define "lvt:modal:confirm:v1"}}
{{if .Open}}
{{if .IsStyled}}
{{/* Tailwind CSS styled version */}}
<div class="fixed inset-0 z-50 overflow-y-auto" data-modal="{{.ID}}" role="alertdialog" aria-modal="true">
  {{/* Overlay */}}
  <div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity" aria-hidden="true"></div>

  {{/* Dialog container */}}
  <div class="flex min-h-full items-center justify-center p-4">
    <div class="relative w-full max-w-md bg-white rounded-lg shadow-xl p-6">
      {{/* Icon */}}
      {{if .HasIcon}}
      <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full {{if .IsDestructive}}bg-red-100{{else}}bg-yellow-100{{end}} mb-4">
        {{if eq .Icon "warning"}}
        <svg class="h-6 w-6 {{.IconClass}}" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
        </svg>
        {{else if eq .Icon "error"}}
        <svg class="h-6 w-6 {{.IconClass}}" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
        {{else if eq .Icon "info"}}
        <svg class="h-6 w-6 {{.IconClass}}" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        {{else if eq .Icon "success"}}
        <svg class="h-6 w-6 {{.IconClass}}" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
        </svg>
        {{end}}
      </div>
      {{end}}

      {{/* Content */}}
      <div class="text-center">
        {{if .HasTitle}}
        <h3 class="text-lg font-semibold text-gray-900 mb-2">{{.Title}}</h3>
        {{end}}
        {{if .HasMessage}}
        <p class="text-sm text-gray-500">{{.Message}}</p>
        {{end}}
      </div>

      {{/* Actions */}}
      <div class="mt-6 flex gap-3 justify-center">
        <button
          type="button"
          class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"
          lvt-click="cancel_{{.ID}}"
        >
          {{.CancelText}}
        </button>
        <button
          type="button"
          class="px-4 py-2 text-sm font-medium rounded-md {{.ConfirmButtonClass}}"
          lvt-click="confirm_{{.ID}}"
        >
          {{.ConfirmText}}
        </button>
      </div>
    </div>
  </div>
</div>
{{else}}
{{/* Unstyled semantic HTML version with essential positioning */}}
<div data-modal="{{.ID}}" role="alertdialog" aria-modal="true" style="position:fixed;inset:0;z-index:50;display:flex;align-items:center;justify-content:center;">
  <div class="overlay" style="position:fixed;inset:0;background:rgba(0,0,0,0.5);" aria-hidden="true"></div>
  <div class="dialog" style="position:relative;z-index:1;background:var(--pico-background-color,#fff);padding:1.5rem;border-radius:0.5rem;max-width:400px;width:90%;">
    {{if .HasTitle}}<h3>{{.Title}}</h3>{{end}}
    {{if .HasMessage}}<p>{{.Message}}</p>{{end}}
    <div class="actions" style="display:flex;gap:0.5rem;justify-content:flex-end;margin-top:1rem;">
      <button type="button" lvt-click="cancel_{{.ID}}">{{.CancelText}}</button>
      <button type="button" lvt-click="confirm_{{.ID}}">{{.ConfirmText}}</button>
    </div>
  </div>
</div>
{{end}}
{{end}}
{{end}}
